<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Document</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container" id="auth">
    <div class="image">
      <img src="image/bacground.jpg" alt="">
    </div>
    <div id="details">
      <h2>IIT DELHI</h2>
      <div class="del-1">
        <label for="name">Username</label>
        <input type="text" id="username" placeholder="create username">
      </div>
      <div class="del-2">
        <label for="name">Email</label>
        <input type="email" id="email" placeholder="create email">
      </div>
      <div class="del-3">
        <label for="name">password</label>
        <input type="password" id="password" placeholder="enter your password">
      </div>
      <div class="del-4">
        <button id="signInButton">Sign In</button>
        <button id="signUpButton">sign Up</button>
      </div>
      <div class="forgot">
        <a href="forgot.html">forgot password</a>
      </div>    
    </div>
  </div>





<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-app.js";
  import { 
        getAuth,
        createUserWithEmailAndPassword,
        signInWithEmailAndPassword,
        onAuthStateChanged,
        signOut

  } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-auth.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyDOX6gaBb9B9iVJDP3JSyrEKjOZ7ij30DE",
    authDomain: "log-in-authentication-7a152.firebaseapp.com",
    projectId: "log-in-authentication-7a152",
    storageBucket: "log-in-authentication-7a152.firebasestorage.app",
    messagingSenderId: "659156202599",
    appId: "1:659156202599:web:9d698cd651f94c35e9d0c2",
    measurementId: "G-9PBLGX5VCY"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  const userEmail=document.getElementById("email")
  const password=document.getElementById("password")
  const authForm=document.getElementById("auth")
  const signInButton=document.getElementById("signInButton")
  const signUpButton=document.getElementById("signUpButton")


  const userSignUp=async()=>{
    const email=userEmail.value;
    const Pass=password.value;
    try{
      const userCredential=await createUserWithEmailAndPassword(auth,email,Pass) 
      alert("your account has been created successfull!")
      console.log(userCredential.user);
    }
    catch(error){
      alert("Error:"+error.message);
      console.error(error.Code, error.Message)
    }
  }
  const userSignIn=async()=>{
    const email=userEmail.value;
    const Pass=password.value;
    try{
      const userCredential=await signInWithEmailAndPassword(auth,email,Pass) 
      alert(" your page signin is successfull!")
      console.log(userCredential.user);
      window.location.href="secret.html"
    }
    catch(error){
      alert("Error:"+error.message);
      console.error(error.Code, error.Message)
    }
  }
     signUpButton.addEventListener('click',(e)=>{
      e.preventDefault();
      userSignUp();
     });
     signInButton.addEventListener('click',(e)=>{
      e.preventDefault();
      userSignIn();
     });
     </script>
</body>
</html>